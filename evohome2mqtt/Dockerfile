
# Utilise l'image de base Home Assistant (adaptÃ©e automatiquement Ã  l'architecture)
ARG BUILD_FROM=ghcr.io/home-assistant/amd64-base:latest
FROM ${BUILD_FROM}

# DÃ©finir la locale
ENV LANG C.UTF-8

# ðŸ‘‰ Installe les dÃ©pendances nÃ©cessaires (exemple pour Python)
# Si ton bridge Evohome2MQTT est en Python, dÃ©commente ces lignes :
# RUN apk add --no-cache python3 py3-pip
# COPY requirements.txt /tmp/
# RUN pip3 install --no-cache-dir -r /tmp/requirements.txt

# Copie la structure rootfs (incluant /etc/services.d/evohome/run)
COPY rootfs/ /

# Rends le script exÃ©cutable
RUN chmod +x /etc/services.d/evohome/run

# IMPORTANT : s6 doit Ãªtre PID 1
CMD ["/init"]
